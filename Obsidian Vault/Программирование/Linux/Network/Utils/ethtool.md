`ethtool` ‚Äî —ç—Ç–æ –º–æ—â–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ –≤ Linux –¥–ª—è **–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤**. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ç–µ–≤—ã—Ö –∫–∞—Ä—Ç (NIC), —Ç–∞–∫–∏–µ –∫–∞–∫ —Å–∫–æ—Ä–æ—Å—Ç—å, –¥—É–ø–ª–µ–∫—Å, –∞–≤—Ç–æ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ, –æ—á–µ—Ä–µ–¥–∏ (queues), offload-–æ–ø—Ü–∏–∏ –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.

---
## **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã `ethtool`**

### **1. –ü—Ä–æ—Å–º–æ—Ç—Ä –æ–±—â–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (`-i`, `--driver`)**
```bash
ethtool <–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å>  # –ù–∞–ø—Ä–∏–º–µ—Ä: ethtool enp1s0
```
**–í—ã–≤–æ–¥:**
```
Settings for enp1s0:
	Supported ports: [ TP ]          # –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã –ø–æ—Ä—Ç–æ–≤ (–≤–∏—Ç–∞—è –ø–∞—Ä–∞, –æ–ø—Ç–∏–∫–∞)
	Supported link modes:  10baseT/Half 10baseT/Full  # –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∫–æ—Ä–æ—Å—Ç–∏
	                         100baseT/Half 100baseT/Full
	                         1000baseT/Full
	Supported pause frame use: No    # –ü–æ–¥–¥–µ—Ä–∂–∫–∞ flow control (PAUSE frames)
	Supports auto-negotiation: Yes   # –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–≤—Ç–æ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
	Advertised link modes:  ...      # –ö–∞–∫–∏–µ —Ä–µ–∂–∏–º—ã –æ–±—ä—è–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –∞–≤—Ç–æ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–∏
	Speed: 1000Mb/s                  # –¢–µ–∫—É—â–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
	Duplex: Full                     # –†–µ–∂–∏–º –¥—É–ø–ª–µ–∫—Å–∞ (Full/Half)
	Auto-negotiation: on             # –í–∫–ª—é—á–µ–Ω–æ –ª–∏ –∞–≤—Ç–æ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ
	Port: Twisted Pair               # –¢–∏–ø –ø–æ—Ä—Ç–∞
	PHYAD: 1                         # –ê–¥—Ä–µ—Å PHY-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
	Transceiver: internal            # –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π/–≤–Ω–µ—à–Ω–∏–π —Ç—Ä–∞–Ω—Å–∏–≤–µ—Ä
	Link detected: yes               # –ï—Å—Ç—å –ª–∏ link (–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ)
```

#### **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥—Ä–∞–π–≤–µ—Ä–µ (`-i`)**
```bash
ethtool -i enp1s0
```
**–í—ã–≤–æ–¥:**
```
driver: e1000e              # –î—Ä–∞–π–≤–µ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
version: 5.15.0-60-generic  # –í–µ—Ä—Å–∏—è –¥—Ä–∞–π–≤–µ—Ä–∞
firmware-version: 1.20-2    # –ü—Ä–æ—à–∏–≤–∫–∞
bus-info: 0000:00:1f.6      # PCI-–∞–¥—Ä–µ—Å
supports-statistics: yes    # –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
supports-test: yes          # –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ—Å—Ç–æ–≤
supports-eeprom-access: yes # –ú–æ–∂–Ω–æ –ª–∏ —á–∏—Ç–∞—Ç—å EEPROM
supports-register-dump: yes # –î–æ—Å—Ç—É–ø–µ–Ω –ª–∏ –¥–∞–º–ø —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤
```

---

### **2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –¥—É–ø–ª–µ–∫—Å–∞ (`-s`)**
–ú–æ–∂–Ω–æ **–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤—ã—Å—Ç–∞–≤–∏—Ç—å** —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –¥—É–ø–ª–µ–∫—Å (–µ—Å–ª–∏ –∞–≤—Ç–æ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –æ—Ç–∫–ª—é—á–µ–Ω–æ):
```bash
ethtool -s enp1s0 speed 100 duplex full autoneg off
```
- `speed` ‚Äî `10`, `100`, `1000`, `2500`, `10000` (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç NIC).
- `duplex` ‚Äî `full` (–ø–æ–ª–Ω—ã–π –¥—É–ø–ª–µ–∫—Å) –∏–ª–∏ `half` (–ø–æ–ª—É–¥—É–ø–ª–µ–∫—Å).
- `autoneg` ‚Äî `on`/`off` (–≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ).

‚ö† **–í–∞–∂–Ω–æ:** –ù–µ –≤—Å–µ —Å–µ—Ç–µ–≤—ã–µ –∫–∞—Ä—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Ä—É—á–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É. –ï—Å–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –ø–æ–¥–Ω—è–ª—Å—è, –≤–µ—Ä–Ω–∏—Ç–µ –∞–≤—Ç–æ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ:
```bash
ethtool -s enp1s0 autoneg on
```

---

### **3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ offload-–æ–ø—Ü–∏—è–º–∏ (`-k`, `--offload`)**
Offload-–æ–ø—Ü–∏–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç **—Ä–∞–∑–≥—Ä—É–∑–∏—Ç—å CPU**, –ø–µ—Ä–µ–¥–∞–≤–∞—è –∑–∞–¥–∞—á–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–¥—Å—á—ë—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Å—É–º–º) –Ω–∞ —Å–µ—Ç–µ–≤—É—é –∫–∞—Ä—Ç—É.

#### **–ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–∏—Ö offload-–æ–ø—Ü–∏–π (`-k`)**
```bash
ethtool -k enp1s0
```
**–í—ã–≤–æ–¥:**
```
rx-checksumming: on       # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Å—É–º–º –Ω–∞ –ø—Ä–∏—ë–º
tx-checksumming: on       # –†–∞—Å—á—ë—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Å—É–º–º –Ω–∞ –ø–µ—Ä–µ–¥–∞—á—É
scatter-gather: on        # Scatter-Gather DMA
tcp-segmentation-offload: on  # TSO (—Ä–∞–∑–±–∏–≤–∫–∞ TCP-–ø–∞–∫–µ—Ç–æ–≤)
udp-fragmentation-offload: off
generic-segmentation-offload: on  # GSO
generic-receive-offload: on       # GRO
...
```

#### **–ò–∑–º–µ–Ω–µ–Ω–∏–µ offload-–æ–ø—Ü–∏–π (`-K`)**
```bash
ethtool -K enp1s0 tx off rx off  # –û—Ç–∫–ª—é—á–∏—Ç—å checksum offload
ethtool -K enp1s0 tso on gso on  # –í–∫–ª—é—á–∏—Ç—å TSO –∏ GSO
```
üîπ **–ö–æ–≥–¥–∞ –æ—Ç–∫–ª—é—á–∞—Ç—å offload?**  
- –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å —Å–µ—Ç—å—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ checksums).
- –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

---

### **4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥—è–º–∏ (`-l`, `--show-channels`, `--set-channels`)**
–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ NIC –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç **–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏ (RSS, RPS, XPS)** –¥–ª—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏ –ø–æ —è–¥—Ä–∞–º CPU.

#### **–ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–∏—Ö –æ—á–µ—Ä–µ–¥–µ–π (`-l`)**
```bash
ethtool -l enp1s0
```
**–í—ã–≤–æ–¥:**
```
Channel parameters for enp1s0:
Pre-set maximums:
RX:             4  # –ú–∞–∫—Å–∏–º—É–º RX-–æ—á–µ—Ä–µ–¥–µ–π
TX:             4  # –ú–∞–∫—Å–∏–º—É–º TX-–æ—á–µ—Ä–µ–¥–µ–π
Other:          1
Combined:       4  # –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ (RX+TX) –æ—á–µ—Ä–µ–¥–∏
Current hardware settings:
RX:             2  # –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ RX
TX:             2  # –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ TX
Other:          1
Combined:       2  # –¢–µ–∫—É—â–µ–µ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
```

#### **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—á–µ—Ä–µ–¥–µ–π (`-L`)**
```bash
ethtool -L enp1s0 combined 4  # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å 4 –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏
ethtool -L enp1s0 rx 4 tx 4   # –†–∞–∑–¥–µ–ª—å–Ω—ã–µ RX/TX –æ—á–µ—Ä–µ–¥–∏
```
üîπ **–û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±—ã—á–Ω–æ —Ä–∞–≤–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —è–¥–µ—Ä CPU.

---

### **5. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (`-S`, `--statistics`)**
```bash
ethtool -S enp1s0
```
**–í—ã–≤–æ–¥:**
```
rx_packets: 123456   # –ü—Ä–∏–Ω—è—Ç–æ –ø–∞–∫–µ—Ç–æ–≤
tx_packets: 789012   # –ü–µ—Ä–µ–¥–∞–Ω–æ –ø–∞–∫–µ—Ç–æ–≤
rx_bytes: 45678901   # –ü—Ä–∏–Ω—è—Ç–æ –±–∞–π—Ç
tx_bytes: 98765432   # –ü–µ—Ä–µ–¥–∞–Ω–æ –±–∞–π—Ç
rx_errors: 0         # –û—à–∏–±–æ–∫ –ø—Ä–∏—ë–º–∞
tx_errors: 5         # –û—à–∏–±–æ–∫ –ø–µ—Ä–µ–¥–∞—á–∏
...
```
üîπ **–°–±—Ä–æ—Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:**
```bash
ethtool --reset-statistics enp1s0  # –ù–µ –≤—Å–µ –¥—Ä–∞–π–≤–µ—Ä—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç!
```

---

### **6. Wake-on-LAN (`-w`, `--wol`)**
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –ø–æ —Å–µ—Ç–∏ (Wake-on-LAN):
```bash
ethtool enp1s0 | grep -i wake  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É
ethtool -s enp1s0 wol g        # –í–∫–ª—é—á–∏—Ç—å WOL (g = MagicPacket)
```
üîπ **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã WOL:**
- `d` ‚Äî –æ—Ç–∫–ª—é—á–µ–Ω–æ.
- `p` ‚Äî Wake on PHY activity.
- `u` ‚Äî Wake on unicast.
- `m` ‚Äî Wake on multicast.
- `b` ‚Äî Wake on broadcast.
- `a` ‚Äî Wake on ARP.
- `g` ‚Äî Wake on MagicPacket (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π WOL).

---

## üî• **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**
### **1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–µ—Ç–µ–≤–æ–π –∫–∞—Ä—Ç—ã –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å 8 –æ—á–µ—Ä–µ–¥–µ–π
ethtool -L enp1s0 combined 8

# –í–∫–ª—é—á–∏—Ç—å –≤—Å–µ offload-–æ–ø—Ü–∏–∏
ethtool -K enp1s0 tx on rx on tso on gso on gro on

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
ethtool enp1s0
ethtool -k enp1s0
```

### **2. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º —Å —Å–µ—Ç—å—é**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ link
ethtool enp1s0 | grep "Link detected"

# –ï—Å–ª–∏ –Ω–µ—Ç link, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ
ethtool -s enp1s0 autoneg on

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—à–∏–±–∫–∏
ethtool -S enp1s0 | grep errors
```

---

## ‚ö†Ô∏è **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**
- –ù–µ –≤—Å–µ —Å–µ—Ç–µ–≤—ã–µ –∫–∞—Ä—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏.
- –ò–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ `ethtool` **—Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏**.  
  –ß—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
  - `systemd-networkd` (–¥–ª—è systemd).
  - –°–∫—Ä–∏–ø—Ç—ã –≤ `/etc/network/if-pre-up.d/`.
  - `NetworkManager` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è).

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏) Dockerfile  

Dockerfile —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ **–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π**, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ –ø–æ—Ä—è–¥–∫—É –ø—Ä–∏ —Å–±–æ—Ä–∫–µ –æ–±—Ä–∞–∑–∞. –í–æ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –∏–∑ –Ω–∏—Ö:  

---

### 1. **`FROM`** ‚Äì –ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑  
–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–∞–∫–æ–≥–æ –æ–±—Ä–∞–∑–∞ –±—É–¥–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å—Å—è –≤–∞—à –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.  
```dockerfile
FROM ubuntu:22.04        # –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ Ubuntu
FROM python:3.9-slim     # –û–±–ª–µ–≥—á–µ–Ω–Ω—ã–π –æ–±—Ä–∞–∑ Python
FROM alpine:latest       # –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π Alpine Linux
```  
**–í–∞–∂–Ω–æ:** –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ —Ç–µ–≥ (`:22.04`, `:3.9-slim`), –∏–Ω–∞—á–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è `latest`.  

---

### 2. **`WORKDIR`** ‚Äì –†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è  
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â—É—é –ø–∞–ø–∫—É –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç).  
```dockerfile
WORKDIR /app   # –í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ /app
```  

---

### 3. **`COPY` –∏ `ADD`** ‚Äì –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤  
–ü–µ—Ä–µ–Ω–æ—Å–∏—Ç —Ñ–∞–π–ª—ã **—Å —Ö–æ—Å—Ç–∞** (–≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞) **–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä**.  

#### `COPY` (–ø—Ä–æ—Å—Ç–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ)  
```dockerfile
COPY ./src /app/src      # –ö–æ–ø–∏—Ä—É–µ—Ç –ø–∞–ø–∫—É `src` –≤ `/app/src`
COPY file.txt /app/      # –ö–æ–ø–∏—Ä—É–µ—Ç `file.txt` –≤ `/app/`
```  

#### `ADD` (—Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏)  
- –ú–æ–∂–µ—Ç —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –∞—Ä—Ö–∏–≤—ã (`.tar`, `.gz`).  
- –ú–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ñ–∞–π–ª—ã –ø–æ URL (–Ω–æ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `curl` + `RUN`).  
```dockerfile
ADD https://example.com/file.tar.gz /tmp/  # –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
ADD archive.tar.gz /app/                   # –†–∞—Å–ø–∞–∫—É–µ—Ç –∞—Ä—Ö–∏–≤
```  
**–°–æ–≤–µ—Ç:** –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `COPY`, –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω—ã –æ—Å–æ–±—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ `ADD`.  

---

### 4. **`RUN`** ‚Äì –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ  
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–∞–∫–µ—Ç—ã, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —Ç. –¥.  
```dockerfile
RUN apt-get update && apt-get install -y curl  # Ubuntu/Debian
RUN pip install -r requirements.txt           # Python
RUN npm install                               # Node.js
```  
**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –û–±—ä–µ–¥–∏–Ω—è–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã –≤ –æ–¥–∏–Ω `RUN` —á–µ—Ä–µ–∑ `&&`, —á—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–µ–≤.  

–í—Å–µ, —á—Ç–æ –¥–µ–ª–∞—Ç–µ—Å—è —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã `RUN ...` (–∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –∫–æ–º–∞–Ω–¥—ã `RUN`) –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `docker build`, **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –æ–±—Ä–∞–∑–µ** –∏ –±—É–¥–µ—Ç **–¥–æ—Å—Ç—É–ø–Ω–æ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —á–µ—Ä–µ–∑ `docker run`** . –ö–∞–∂–¥–∞—è –∫–æ–º–∞–Ω–¥–∞ (–≤–∫–ª—é—á–∞—è `RUN`) —Å–æ–∑–¥–∞–µ—Ç **–Ω–æ–≤—ã–π —Å–ª–æ–π (layer)** –≤ –æ–±—Ä–∞–∑–µ.

---

### 5. **`ENV`** ‚Äì –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è  
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.  
```dockerfile
ENV PYTHONUNBUFFERED=1
ENV DB_HOST=postgres
```  

---

### 6. **`EXPOSE`** ‚Äì –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç–∞  
–ì–æ–≤–æ—Ä–∏—Ç Docker, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–ª—É—à–∞–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–æ—Ä—Ç (–Ω–æ –Ω–µ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç –µ–≥–æ!).  
```dockerfile
EXPOSE 80      # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä "–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç" –ø–æ—Ä—Ç 80
EXPOSE 3000    # –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è Node.js-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```  
**–í–∞–∂–Ω–æ:** –ß—Ç–æ–±—ã –ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å –ø–æ—Ä—Ç –Ω–∞—Ä—É–∂—É, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `-p` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:  
```bash
docker run -p 8080:80 my-image  # –•–æ—Å—Ç:8080 ‚Üí –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä:80
```  

---

### 7. **`CMD` –∏ `ENTRYPOINT`** ‚Äì –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞  
–û–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫–∞–∫–∞—è –∫–æ–º–∞–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.  

#### `CMD` (–º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–∏ `docker run`)  
```dockerfile
CMD ["python", "app.py"]           # –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (JSON-–º–∞—Å—Å–∏–≤)
CMD python app.py                   # Shell-—Ñ–æ—Ä–º–∞—Ç (–º–µ–Ω–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–π)
```  
**–ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:**  
```bash
docker run my-image python server.py  # –ó–∞–º–µ–Ω–∏—Ç CMD
```  

#### `ENTRYPOINT` (–∂–µ—Å—Ç–∫–æ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –∫–æ–º–∞–Ω–¥—É)  
```dockerfile
ENTRYPOINT ["python"]  
CMD ["app.py"]          # –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ –∞—Ä–≥—É–º–µ–Ω—Ç—ã:
```  
```bash
docker run my-image server.py  # –í—ã–ø–æ–ª–Ω–∏—Ç `python server.py`
```  

---

### 8. **`.dockerignore`** ‚Äì –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤  
–ê–Ω–∞–ª–æ–≥ `.gitignore`. –£–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã **–Ω–µ** –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –æ–±—Ä–∞–∑.  
```text
.git/
node_modules/
*.log
```  

---

## –®–∞—Ä–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤ –º–µ–∂–¥—É Docker –∏ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π  

–ß—Ç–æ–±—ã –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è —Ñ–∞–π–ª–∞–º–∏ –º–µ–∂–¥—É —Ö–æ—Å—Ç-—Å–∏—Å—Ç–µ–º–æ–π (–≤–∞—à–∏–º –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º) –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º, Docker –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤:  

---

## 1. **Volumes (–¢–æ–º–∞ Docker)**  
**–õ—É—á—à–∏–π —Å–ø–æ—Å–æ–± –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.**  

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:  
‚úÖ –£–ø—Ä–∞–≤–ª—è—é—Ç—Å—è Docker (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ).  
‚úÖ –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ Linux).  
‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.  

### –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:  
#### –°–ø–æ—Å–æ–± 1: –°–æ–∑–¥–∞—Ç—å —Ç–æ–º –≤—Ä—É—á–Ω—É—é  
```bash
docker volume create my_volume  # –°–æ–∑–¥–∞–µ—Ç —Ç–æ–º
docker run -v my_volume:/data alpine  # –ü–æ–¥–∫–ª—é—á–∞–µ—Ç —Ç–æ–º –≤ /data
```  

#### –°–ø–æ—Å–æ–± 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ  
```bash
docker run -v /data alpine  # Docker —Å–∞–º —Å–æ–∑–¥–∞—Å—Ç —Ç–æ–º
```  

#### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–º–æ–≤:  
```bash
docker volume ls
docker volume inspect my_volume  # –ü—É—Ç—å –∫ –¥–∞–Ω–Ω—ã–º –Ω–∞ —Ö–æ—Å—Ç–µ (Linux: /var/lib/docker/volumes/)
```  

---

## 2. **Bind Mounts (–ü—Ä–∏–≤—è–∑–∫–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π)**  
**–ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–∞–ø–∫–∏ —Å —Ö–æ—Å—Ç–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.**  
### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:  
üîπ –§–∞–π–ª—ã –∏–∑–º–µ–Ω—è—é—Ç—Å—è **–≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** —Å –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω.  
üîπ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, live-—Ä–µ–ª–æ–∞–¥ –∫–æ–¥–∞).  
üîπ –ù–µ—Ç –∞–≤—Ç–æ—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (Docker –Ω–µ —Ä–µ–∑–µ—Ä–≤–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ).  

### –ü—Ä–∏–º–µ—Ä:  
```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–∞–ø–∫–∏ ./host_dir –≤ /container_dir
docker run -v $(pwd)/host_dir:/container_dir alpine

# –î–ª—è Windows (PowerShell):
docker run -v ${PWD}/host_dir:/container_dir alpine
```  

### –í–∞—Ä–∏–∞–Ω—Ç—ã –∑–∞–ø–∏—Å–∏:  
```bash
# –ü–æ–ª–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è Windows/macOS)
docker run --mount type=bind,source="$(pwd)"/host_dir,target=/container_dir alpine

# –ö–æ—Ä–æ—Ç–∫–∏–π —Ñ–æ—Ä–º–∞—Ç (Linux/macOS)
docker run -v /–∞–±—Å–æ–ª—é—Ç–Ω—ã–π/–ø—É—Ç—å/host_dir:/container_dir alpine
```  

---

## 3. **Tmpfs Mounts (–í—Ä–µ–º–µ–Ω–Ω–∞—è –ø–∞–º—è—Ç—å)**  
**–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ç–æ–ª—å–∫–æ –≤ RAM (–∏—Å—á–µ–∑–∞–µ—Ç –ø–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞).**  

### –ü—Ä–∏–º–µ—Ä:  
```bash
docker run --tmpfs /cache alpine
```  

---

## üîπ **–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `-v` –∏ `--mount`**  
| –ü–∞—Ä–∞–º–µ—Ç—Ä       | `-v` (–∫–æ—Ä–æ—Ç–∫–∏–π)          | `--mount` (–ø–æ–ª–Ω—ã–π)          |
|---------------|--------------------------|----------------------------|
| –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å     | –ü—Ä–æ—â–µ                   | –ë–æ–ª–µ–µ —è–≤–Ω—ã–π                |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞      | –í—Å–µ –≤–µ—Ä—Å–∏–∏ Docker       | –¢–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏        |
| –î–æ–ø. –æ–ø—Ü–∏–∏     | –ù–µ—Ç                     | –ï—Å—Ç—å (readonly, selinux)  |

---

## **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã**  

### 1. **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ Python-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**  
```bash
# –ö–æ–¥ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Ö–æ—Å—Ç–µ, –∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
docker run -v $(pwd)/app:/app -p 8000:8000 python:3.9 sh -c "cd /app && pip install -r requirements.txt && python app.py"
```  

### 2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL**  
```bash
# –î–∞–Ω–Ω—ã–µ –ë–î —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ç–æ–º–µ –¥–∞–∂–µ –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -v pg_data:/var/lib/postgresql/data -e POSTGRES_PASSWORD=12345 postgres
```  

### 3. **Nginx —Å –∫–æ–Ω—Ñ–∏–≥–æ–º —Å —Ö–æ—Å—Ç–∞**  
```bash
# –ü–æ–¥–∫–ª—é—á–∞–µ–º –∫–∞—Å—Ç–æ–º–Ω—ã–π nginx.conf
docker run -v $(pwd)/nginx.conf:/etc/nginx/nginx.conf -p 80:80 nginx
```  

---

##  **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏**  
1. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**  
   - –§–∞–π–ª—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –æ—Ç –∏–º–µ–Ω–∏ `root` (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω `USER`).  
   - –†–µ—à–µ–Ω–∏–µ:  
     ```dockerfile
     RUN chown -R 1000:1000 /data  # –ú–µ–Ω—è–µ–º –≤–ª–∞–¥–µ–ª—å—Ü–∞ (UID/GID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Ö–æ—Å—Ç–µ)
     ```  

2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ macOS/Windows**  
   - Bind Mounts —Ä–∞–±–æ—Ç–∞—é—Ç –º–µ–¥–ª–µ–Ω–Ω–µ–µ (–∏–∑-–∑–∞ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏).  
   - –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `delegated` (–¥–ª—è macOS):  
     ```bash
     docker run -v $(pwd):/app:delegated alpine
     ```  

3. **–ü—É—Ç–∏ –≤ Windows**  
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/c/–ø—É—Ç—å` (Git Bash) –∏–ª–∏ `C:\–ø—É—Ç—å` (PowerShell).  

---

## **–ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**  
| –ú–µ—Ö–∞–Ω–∏–∑–º          | –õ—É—á—à–∏–π —Å–ª—É—á–∞–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è         |
|-------------------|------------------------------------|
| **Volumes**       | –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ     |
| **Bind Mounts**   | –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞, –∫–æ–Ω—Ñ–∏–≥–∏                |
| **Tmpfs**         | –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–∫–µ—à, —Å–µ—Å—Å–∏–∏)      |

**–°–æ–≤–µ—Ç:** –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ `volumes`, –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ ‚Äî `bind mounts`.  

## –ü—Ä–∏–º–µ—Ä Dockerfile –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è dpdk

```Dockerfile
# –ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑
FROM ubuntu:22.04

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –ø—Ä–∏ apt
ENV DEBIAN_FRONTEND=noninteractive

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞–∑–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
RUN apt-get update && \
apt-get install -y --no-install-recommends \
build-essential gcc g++ make cmake git wget curl \
python3 python3-pip pkg-config libnuma-dev libssl-dev \
libpcap-dev libsctp-dev vim nano iproute2 net-tools \
tcpdump nmap wireshark tshark hping3 dnsutils netcat-openbsd \
socat strace lsof iperf3 ethtool bridge-utils vlan iptables \ 
whois gdb valgrind clang bear openssh-client libelf-dev \
meson python3-pyelftools linux-headers-generic \
&& rm -rf /var/lib/apt/lists/*

# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ (—ç–∫–æ–Ω–æ–º–∏–º –º–µ—Å—Ç–æ)
RUN apt-get clean && \
rm -rf /tmp/* /var/tmp/*

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
RUN pip3 install --no-cache-dir \
scapy paramiko pwntools requests beautifulsoup4 cryptography

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è DPDK
WORKDIR /opt/dpdk

# –í–µ—Ä—Å–∏—è DPDK
ARG DPDK_VERSION=25.07

# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ DPDK
RUN if [ ! -d "dpdk" ]; then \
git clone --recurse-submodules https://github.com/DPDK/dpdk.git ; \
fi


# –°–±–æ—Ä–∫–∞ DPDK —á–µ—Ä–µ–∑ Meson
RUN cd dpdk && mkdir build && cd build && \
meson setup .. \
--prefix=/usr \
--libdir=lib/x86_64-linux-gnu \
--buildtype=release \
--default-library=static \
-Dexamples=all && \
ninja && ninja install && \
ldconfig

# –î–æ–±–∞–≤–ª—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è DPDK
ENV RTE_SDK=/opt/dpdk
ENV RTE_TARGET=build
```

```bash
# –ø—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–±–æ—Ä–∫–∏ –æ—Ä–±—Ä–∞–∑–∞
docker build -t dpdk:1.0 .

# –ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –æ–±—Ä–∞–∑–∞ –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ 
docker run -it dpdk:1.0 

# –ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –æ–±—Ä–∞–∑–∞ –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ \
# –∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –æ–±—â–µ–π —Ä–∞–∑–¥–µ–ª—è–µ–º–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
docker run -it -v /home/islam_kardanov/c/tmp/dpdk-test/src:/home/src dpdk:1.0
```

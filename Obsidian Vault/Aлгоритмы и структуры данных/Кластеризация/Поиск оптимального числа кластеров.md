По мере возрастания численности кластеров, члены каждого из них становятся больше похожи друг на друга, но соседние кластеры при этом становятся менее различимы. Если довести это до крайности, то каждый элемент данных окажется в отдельном кластере, что не даст нам никакой полезной информации. Поэтому нужен компромисс. Число кластеров должно быть достаточно велико, чтобы позволить нам выявить важные для бизнес-решений закономерности, но не слишком, чтобы кластеры сохраняли отчетливые различия. Одним из способов определить оптимальное количество кластеров является использование так называемого графика каменистой осыпи, или графика Кеттела (scree plot)

График осыпи показывает, насколько снижается разнообразие внутри кластеров при увеличении их числа. Если все члены отнесены к единственному кластеру, разнообразие максимально. Но по мере увеличения числа кластеров сами они становятся плотнее, а их члены однороднее.

Излом — это острый изгиб на графике осыпи, который предлагает оптимальное число кластеров, исходя из разумной степени внутрикластерного разнообразия. Мы видим излом на двойке, которая соответствует двум кластерам. Другой излом, поменьше, находится на тройке, говоря о том, что мы можем ввести третий кластер. А вот введение еще большего их числа уже даст слишком малые кластеры, слабо отличающиеся друг от друга.

### Более формальное определение

График каменистой осыпи (scree plot) или график Кеттела — это метод визуализации, используемый для определения оптимального количества кластеров в кластерном анализе. Этот график представляет собой диаграмму, на которой по оси X откладывается количество кластеров, а по оси Y — значения, характеризующие дисперсию или инерцию (например, собственные значения, суммы квадратов расстояний внутри кластеров и т.д.).

Основная идея заключается в том, чтобы найти точку, в которой наклон графика значительно уменьшается, образуя "локоть" (elbow). Эта точка указывает на оптимальное количество кластеров, так как дальнейшее увеличение числа кластеров не приводит к значительному улучшению качества кластеризации.

Процесс построения и интерпретации графика каменистой осыпи включает следующие шаги:

1. **Выполнение кластерного анализа** для различного количества кластеров.
2. **Расчет показателей дисперсии или инерции** для каждого количества кластеров.
3. **Построение графика**, где по оси X откладывается количество кластеров, а по оси Y — соответствующие значения дисперсии или инерции.
4. **Анализ графика** для определения точки "локоть", которая указывает на оптимальное количество кластеров.

Пример:
Предположим, вы выполнили кластерный анализ для 1, 2, 3, ..., 10 кластеров и рассчитали соответствующие значения инерции. Построив график, вы можете увидеть, что инерция значительно уменьшается до 3 кластеров, а затем уменьшение становится менее выраженным. В этом случае 3 кластера могут быть оптимальным выбором.

График каменистой осыпи является одним из многих методов определения оптимального количества кластеров и может быть дополнен другими методами, такими как индекс Дэвиса-Болдина (Davies-Bouldin index), силуэтный анализ (silhouette analysis) и другие.